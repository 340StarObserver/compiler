## 如何根据文法，构造LR(1)语法的预测分析表 ##


### 一.　操作 First ###

        /*  
        计算文法符号串S的First  
        参数 :  
            G      :    文法  
            S      :    文法符号串  
            index  :    当前分析S中的哪个符号  
        返回 :  
            终结符集合  
        注意 :  
            S可能是多个文法符号拼起来的，并非只是一个非终结符  
        */  
        function First( G, S, index )  
        {  
            cs = S[index]  
                // 临时记录一下当前文法符号  
            
            if( cs 是终结符 )  
                return { cs }  
            
            res = { }  
                // cs 是非终结符，则必定会出现在文法G的某个产生式的左部  
                // 初始化结果  
            
            for G 每个产生式 :  
            {  
                P = G[i]  
                    // 记录一下当前产生式  
                
                if( P左部 == cs && P右部第一个符号 != cs )  
                {  
                    // 注意，这里P右部不等于cs，是为了避免陷入死循环  
                    res = res ∪ First(G, P右部, 0)  
                }  
            }  
            
            if( ε ∈ res && index < S.length - 1 )  
                res = res ∪ First(G, S, index + 1)  
            
            return res  
        }  
